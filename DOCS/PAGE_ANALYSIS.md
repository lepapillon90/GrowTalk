# GrowTalk 페이지별 분석 및 개선 보고서

본 보고서는 GrowTalk 애플리케이션의 주요 페이지를 분석하여 현재 상태, 발견된 문제점, 그리고 개선 제안을 정리한 문서입니다.

## 1. 로그인/회원가입 (`/login`, `/signup`)

### 📋 현재 상태
- 이메일/비밀번호 로그인 및 구글 소셜 로그인 지원.
- 카카오 로그인 버튼은 UI만 구현되어 있음 (Placeholder).
- 회원가입 및 비밀번호 찾기 링크 제공.

### 🔴 문제점
- **카카오 로그인 미구현:** 버튼은 존재하지만 기능이 없음. 사용자에게 혼란을 줄 수 있음.
- **유효성 검사 피드백:** 이메일 형식이나 비밀번호 길이 등에 대한 실시간 피드백이 부족함 (HTML 기본 속성에 의존).

### 💡 개선 제안
- **Kakao 로그인 연동:** Firebase Auth 또는 NextAuth를 통해 Kakao 로그인 구현 필요.
- **실시간 유효성 검사:** `react-hook-form` 등을 도입하여 입력 즉시 에러 메시지 표시.
- **로딩 및 에러 처리:** 로그인 실패 시 구체적인 에러 메시지(예: 비밀번호 불일치) 제공.

---

## 2. 친구 목록 페이지 (`/friends`) - 메인

### 📋 현재 상태
- 내 프로필 요약 표시.
- 친구 요청 목록 확인 및 수락/거절 기능.
- 친구 목록 표시 및 1:1 대화방 생성/이동 기능.
- **친구 추가 모달:** 이메일 검색을 통해 친구 요청 전송.

### 🔴 문제점
- **UI 단순함:** 친구 목록이 단순히 나열만 되어 있어 친구가 많아질 경우 찾기 어려움.
- **상호작용 부족:** 친구 프로필을 눌렀을 때의 상세 정보 뷰가 부재함.
- **데이터 동기화:** 친구 요청 수락 시, 양쪽 유저의 `friends` 컬렉션에 동기화되는 로직의 견고함 확인 필요 (현재 `addFriend` 로직은 단방향/양방향 확인 필요).

### 💡 개선 제안
- **친구 검색 기능:** 내 친구 목록 내에서 이름으로 검색하는 필터 추가.
- **프로필 모달:** 친구 클릭 시 단순 채팅 이동 외에 프로필 사진 확대나 상태 메시지 확인 기능 추가.
- **친구 정렬:** 접속 상태, 이름순 정렬 옵션 제공.

---

## 3. 채팅 목록 페이지 (`/chats`)

### 📋 현재 상태
- 참여 중인 모든 채팅방 목록 표시 (최신순 정렬).
- **채팅 검색:** 채팅방 이름 및 메시지 내용 검색 지원 (Modal).
- **그룹 생성:** 친구를 선택하여 새 그룹 채팅 생성 (Modal).
- **임시 조치:** 빌드 오류로 인해 가상 스크롤(`VirtualChatList`)이 일반 리스트로 대체됨.

### 🔴 문제점
- **성능:** 채팅방이나 메시지가 매우 많아질 경우 가상 스크롤 부재로 인한 렌더링 성능 저하 우려.
- **실시간 업데이트:** 마지막 메시지 업데이트가 `updatedAt` 정렬에 의존하므로, Firestore 복합 색인(Composite Index) 설정이 필수적임.

### 💡 개선 제안
- **가상 스크롤 복구:** `react-virtuoso` 등 Next.js와 호환성 좋은 라이브러리로 교체하여 대량 리스트 성능 확보.
- **채팅방 고정:** 중요한 채팅방 상단 고정 기능 추가.
- **안읽음 배지:** 탭바(하단 내비게이션)에도 전체 안읽음 메시지 수 표시.

---

## 4. 채팅방 (`/chat/[id]`)

### 📋 현재 상태
- 실시간 메시지 송수신 (텍스트, 이미지).
- 메시지 읽음 처리 (Optimistic UI + Firestore).
- 이미지 업로드 및 미리보기.
- **임시 조치:** 가상 스크롤(`VirtualMessageList`)이 일반 리스트로 대체됨.

### 🔴 문제점
- **메시지 로딩:** 채팅방 진입 시 모든 메시지를 한 번에 불러오는 구조라면 데이터 낭비 및 속도 저하. (현재 `onSnapshot` 쿼리 제한 확인 필요).
- **이미지 업로드:** 업로드 중 실패 시 재시도 UI 부재.

### 💡 개선 제안
- **무한 스크롤 (Paginaton):** 초기 20~30개 메시지만 로드하고 스크롤 위로 올릴 때 추가 로드하는 로직 구현.
- **답장/전달 기능:** 메시지 스와이프를 통한 답장(Reply) 및 전달 기능 구현.
- **입력 경험:** 이모지 피커 추가, 음성 메시지 지원 고려.

---

## 5. 더보기 및 설정 (`/more`, `/settings`)

### 📋 현재 상태
- **더보기:** 공지사항, 도움말, 로그아웃 진입점.
- **설정:** 알림, 테마(다크/라이트), 언어, 계정 관리(삭제/로그아웃).
- **테마:** `useSettingsStore` 및 CSS Variable을 통해 다크 모드 정상 동작.

### 🔴 문제점
- **기능 미구현:** "푸시 알림", "언어 설정" 등 일부 토글은 UI만 존재하고 실제 시스템/앱 설정과 연동되지 않음. (Local Storage 상태만 변경됨).
- **도움말/공지사항:** 정적인 데이터만 보여주고 있음 (실제 서버 데이터 아님).

### 💡 개선 제안
- **실제 알림 연동:** FCM(Firebase Cloud Messaging) 토큰 관리 및 서비스 워커 설정으로 실제 푸시 알림 구현.
- **다국어 지원(i18n):** `next-intl` 등을 도입하여 실제 앱 언어 변경(한국어/영어) 적용.
- **공지사항 CMS:** 관리자 페이지에서 공지사항을 작성하고 앱에서 불러오는 구조로 변경.

---

## 6. 공통/기타

### 🏗️ 빌드 및 아키텍처
- **PWA 미지원:** 현재 빌드 이슈로 PWA 플러그인이 비활성화됨. 모바일 웹 사용성을 위해 재활성화 필요.
- **상태 관리:** `zustand`를 사용하여 인증 및 설정을 효율적으로 관리 중. 적절함.

### 🎨 UI/UX
- **모바일 최적화:** 대부분의 UI가 모바일 친화적이나, 데스크탑 뷰에서의 레이아웃(`max-w-[430px]` 중앙 정렬)이 여백을 남김. 데스크탑 전용 반응형 레이아웃 고려 가능.

## ✅ 종합 결론
GrowTalk는 핵심 기능(채팅, 친구, 설정)이 잘 구현되어 있으며 UI 완성도가 높습니다. 
다만, **대용량 데이터 처리를 위한 성능 최적화(가상 스크롤 복구)**와 **일부 "준비 중"인 기능(카카오 로그인, 실제 푸시 알림)의 구현**이 다음 단계의 핵심 과제입니다.
